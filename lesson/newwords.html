<!doctype html>
<html>
<head>
<meta http-equiv=Content-Type content='text/html;charset=UTF-8'>
<title>New Words</title>
<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1'>
<style>[hidden] {display:none ! important;}</style>
<link  href='../minimal/normaleyes.css' rel='stylesheet' type='text/css'></link>
<link  href='../minimal/minimal.css' rel='stylesheet' type='text/css'></link>
<link  href='../icon/icon.css' rel='stylesheet' type='text/css'></link>
<link  href='../css/lesson.css' rel='stylesheet' type='text/css'></link>
<script src='../js/namespace.js'></script>
<script src='../js/dict.js'></script>
<script src='../js/lesson.js'></script>
<script src='../minimal/minimal.js'></script>
<script src='../jslib/utils.js'></script>
<script src='../jslib/dragger.js'></script>
<script src='../jslib/post.js'></script>
<script src='../jslib/sync.js'></script>
<script src='../fx/sound.js'></script>
<script src='../icon/icon.js'></script>
<script src='../icon/lib/speaker.js'></script>
<script src='../icon/lib/menu.js'></script>

<script>

voyc.startWord = 1204;
voyc.startPhrase = 20513;
voyc.type = 'expression';

voyc.newwords = [
	//{th:'สุข สันต์ วัน เกีด นะ ครับ', en:'Happy Birthday'},
	{th:'ผม ซื้อ เสื้อ ใหม่ เพรอะว่า มี หนาว', en:'I buy new shirt because it is cold.'},
	{th:'ผม ด้วย ซื้อ เสื้อกันหนาว', en:'I also buy sweater.'},
	{th:'เมื่อ มี หนาว ผม ดื่ม น้ำ อุ่น', en:'When it is cold, I drink warm water.'},	
	{th:'มี หนาว ใน ธันวาคม และ มกราคม', en:'It gets cold in December and January'},


	{th:'และ ถ้า แต่ ดังนั้น เมื่อ เพราะว่า แม้ว่า หรือ ก่อน หลังจาก ด้วย', en:'and if but so when because although or before after also'},
	{th:'ทาน ให้ อร่อย', en:'Enjoy your meal (drink)'},

	{th:'ผมจะไปหาหมอโรคผิวหนังเพราะผมมีปัญหาเกี่ยวกับนิ้วเท้า', wo:'I will go to see dermatologist because I have problem with toe'},
	{th:'ผมจะไปหาหมอเมือไร', wo:'will go to see doctor when'},
	{th:'วันนี้วันอะไร',	wo:'day this day what', en:'what day is today?'},
	{th:'วันนี้วันที่เท่าไร',	wo:'day this date how much', en:'what is the date today?'},
	{th:'เดือนนี้เดือนอะไร',	wo:'month this month what', en:'what month is this?'},
	{th:'ปีนี้ปีอัไร',		wo:'year this year what', en:'what year is this?'},

/*
	th: 'ใน', translit:'nai', en:'in',

	ขวบ	age

พ.ศ. 2560
ค.ศ. 2017

พัน	thousand
two thousand seventeen
one nine nine two

finger
toe
hand
foot
concerning with
problem/concern


เห็น	see, visualize
ดู	look at, glance
แล	look at, inspect

ดูแล	take care

tio travel
travel alone, tio kon dio
travel during holidays is expensive, because everyone is traveling
accomodations and air fares are higher, no discounts

Thai National Anthem
ประเทศไทยรวมเลือดเนื้อชาติเชื้อไทย
เป็นประชารัฐ ไผทของไทยทุกส่วน
อยู่ดำรงคงไว้ได้ทั้งมวล
ด้วยไทยล้วนหมาย รักสามัคคี
ไทยนี้รักสงบ แต่ถึงรบไม่ขลาด
เอกราชจะไม่ให้ใครข่มขี่
สละเลือดทุกหยาดเป็นชาติพลี
เถลิงประเทศชาติไทยทวี มีชัย ชโย


*/


	//{th:'', en:'It is cold before 9 AM because there is no sun.'},
	//{th:'', en:'It gets warm when the sun comes up.'},
	//{th:'', en:''},
];

voyc.setcustom = {
	title:'Custom',
	custom: [
		{th:'ผม ซื้อ เสื้อ ใหม่ เพรอะว่า มี หนาว', en:'I buy new shirt because it is cold.'},
		{th:'ผม ด้วย ซื้อ เสื้อกันหนาว', en:'I also buy sweater.'},
		{th:'เมื่อ มี หนาว ผม ดื่ม น้ำ อุ่น', en:'When it is cold, I drink warm water.'},	
		{th:'มี หนาว ใน ธันวาคม และ มกราคม', en:'It gets cold in December and January'},
	]
}

voyc.setexpressions = {
	title: 'Expressions',
	cb: function(r) {return (r.typ == 'expression')}
};

voyc.setcword = {
	title: 'Compound Words',
	cb: function(r) {return (r.typ == 'cword')}
};


voyc.lookupNewWords = function(newin) {
	var pat = "{id:%id%, typ:"+ voyc.type +", set:[%set%], part:'',	lvl:1, en:'%en%'},<br/>";
	var cpat = "{id:%id%, typ:'word', ns:1, ccls:'l', end:'live', mark:'0', tone:'M', th:'%th%',	translit:'_M',	hint:'2M',	part:'noun',	lvl:1, en:''},";
	var s = '';
	var srow = '';
	var t = '';
	var newout;
	var row;
	var acomp;
	var comp;
	var dictrow;
	var set = [];
	var nPhrase = voyc.startPhrase;
	var nWord = voyc.startWord;
	for (var i=0; i<newin.length; i++) {
		row = newin[i];
		acomp = row.th.split(' ');
		set = [];
		for (var j=0; j<acomp.length; j++) {
			comp = acomp[j];
			dictrow = voyc.findInDict(comp);
			if (dictrow) {
				set.push(dictrow);
			}
			else {
				swrow = cpat;
				swrow  = swrow.replace('%id%', nWord.toString());
				swrow  = swrow.replace('%th%', comp);
				t += swrow + '<br/>';
				set.push(nWord);
				nWord++;
			}
		}
		srow = pat;
		srow  = srow.replace('%id%', nPhrase.toString());
		srow  = srow.replace('%set%', set.toString());
		srow  = srow.replace('%en%', row.en);
		s += srow; 
		nPhrase++;
	}
	return [s,t];
}

voyc.findInDict = function(word) {
	for (var i=0; i<voyc.dict.length; i++) {
		if (voyc.dict[i].th == word) {
			return (voyc.dict[i].id);
		}
	}
	return 0;
}

voyc.draw = function() {
	var a = voyc.lookupNewWords(voyc.newwords);
	var s = a[0] + a[1];
	s += voyc.drawPanel(voyc.setexpressions);
	s += voyc.drawPanel(voyc.setcword);
	s += voyc.drawPanel(voyc.setcustom);
	voyc.$('content').innerHTML = s;
	(new voyc.Minimal()).attachAll(voyc.$('content'));
}
			
addEventListener('load', function() {
	var s = voyc.draw();

	// practice button
	voyc.$('practice').addEventListener('click', function(event) {
		voyc.practice({'title': 'Expressions'});
	});

	// load sounds, etc.
	voyc.initLesson();
}, false);
</script>
</head>
<body>
	<header class='fixed'>
		<hdr>
			<icon type='draw' name='menu' class='bit' open='leftname-menu'></icon>
			<span id='hdrtitle' style='vertical-align:middle'>New Words</span>
			<button id="practice" >Practice</button>
		</hdr>
	</header>

	<section id='content'></section>

	<!---- modeless dialogs ----------------------------------------->
	<nav initially hidden class='panel popup leftnav blu' id='leftname-menu'>
		<div close='leftname-menu' class='closex'>&times;</div>
		<h3>Settings</h3>
		<p><input close='leftname-menu' id=showtypewriter type=radio name=mode checked> <label for='showtypewriter'>Typewriter</label></p>
		<p><input close='leftname-menu' id=showanalytics type=radio name=mode> <label for='showanalytics'>Learning</label></p>
		<hr/>
		<p><input close='leftname-menu' id=showtranslit type=checkbox checked> <label for='showtranslit'>Show Transliteration</label></p>
	</nav>
	<footer>
		<div class='group'>
			<a href='http://voyc.com/about' class='ftr voyc'>
				<svg viewBox="0 0 550 200" xmlns="http://www.w3.org/2000/svg"><defs><mask id="cut-out"><rect id="bg" x="0" y="0" width="100%" height="100%" fill="#fff"/><rect x="0" y="0"   width="600" height="49" fill="#000" /><rect x="0" y="149" width="180" height="29" fill="#000" /><rect x="0" y="180" width="600" height="20" fill="#000" /><path d="M450 88 L520 88 L520 140" fill="#000" /></mask></defs><g stroke="#000" stroke-width="30" fill="none" mask="url(#cut-out)"><path d="M 50 40 L 85 160 M 79 150 L164 30"/><path d="M290 40 L330 149 M290 190 L410 30"/><ellipse cx="217" cy="100" rx="38" ry="36"/><ellipse cx="460" cy="100" rx="38" ry="36"/></g></svg>
			</a>
		</div>
		<div class='group tright'>
			<a href='https://github.com/voyc/thai' class='ftr git'>
				<svg viewBox="0 0 45 16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18.53 12.03h-.02c.009 0 .015.01.024.011h.006l-.01-.01zm.004.011c-.093.001-.327.05-.574.05-.78 0-1.05-.36-1.05-.83V8.13h1.59c.09 0 .16-.08.16-.19v-1.7c0-.09-.08-.17-.16-.17h-1.59V3.96c0-.08-.05-.13-.14-.13h-2.16c-.09 0-.14.05-.14.13v2.17s-1.09.27-1.16.28c-.08.02-.13.09-.13.17v1.36c0 .11.08.19.17.19h1.11v3.28c0 2.44 1.7 2.69 2.86 2.69.53 0 1.17-.17 1.27-.22.06-.02.09-.09.09-.16v-1.5a.177.177 0 0 0-.146-.18zm23.696-2.2c0-1.81-.73-2.05-1.5-1.97-.6.04-1.08.34-1.08.34v3.52s.49.34 1.22.36c1.03.03 1.36-.34 1.36-2.25zm2.43-.16c0 3.43-1.11 4.41-3.05 4.41-1.64 0-2.52-.83-2.52-.83s-.04.46-.09.52c-.03.06-.08.08-.14.08h-1.48c-.1 0-.19-.08-.19-.17l.02-11.11c0-.09.08-.17.17-.17h2.13c.09 0 .17.08.17.17v3.77s.82-.53 2.02-.53l-.01-.02c1.2 0 2.97.45 2.97 3.88zm-8.72-3.61H33.84c-.11 0-.17.08-.17.19v5.44s-.55.39-1.3.39-.97-.34-.97-1.09V6.25c0-.09-.08-.17-.17-.17h-2.14c-.09 0-.17.08-.17.17v5.11c0 2.2 1.23 2.75 2.92 2.75 1.39 0 2.52-.77 2.52-.77s.05.39.08.45c.02.05.09.09.16.09h1.34c.11 0 .17-.08.17-.17l.02-7.47c0-.09-.08-.17-.19-.17zm-23.7-.01h-2.13c-.09 0-.17.09-.17.2v7.34c0 .2.13.27.3.27h1.92c.2 0 .25-.09.25-.27V6.23c0-.09-.08-.17-.17-.17zm-1.05-3.38c-.77 0-1.38.61-1.38 1.38 0 .77.61 1.38 1.38 1.38.75 0 1.36-.61 1.36-1.38 0-.77-.61-1.38-1.36-1.38zm16.49-.25h-2.11c-.09 0-.17.08-.17.17v4.09h-3.31V2.6c0-.09-.08-.17-.17-.17h-2.13c-.09 0-.17.08-.17.17v11.11c0 .09.09.17.17.17h2.13c.09 0 .17-.08.17-.17V8.96h3.31l-.02 4.75c0 .09.08.17.17.17h2.13c.09 0 .17-.08.17-.17V2.6c0-.09-.08-.17-.17-.17zM8.81 7.35v5.74c0 .04-.01.11-.06.13 0 0-1.25.89-3.31.89-2.49 0-5.44-.78-5.44-5.92S2.58 1.99 5.1 2c2.18 0 3.06.49 3.2.58.04.05.06.09.06.14L7.94 4.5c0 .09-.09.2-.2.17-.36-.11-.9-.33-2.17-.33-1.47 0-3.05.42-3.05 3.73s1.5 3.7 2.58 3.7c.92 0 1.25-.11 1.25-.11v-2.3H4.88c-.11 0-.19-.08-.19-.17V7.35c0-.09.08-.17.19-.17h3.74c.11 0 .19.08.19.17z"></path></svg>
			</a>
		</div>
	</footer>
</body>
</html>
